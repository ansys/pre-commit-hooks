``add-license-headers`` setup
=============================

The ``add-license-headers`` hook adds and updates license headers in specified directories and
file types using `REUSE <https://reuse.software/>`_. Here is a sample license header for a
Python file generated by the template with a start year of 2023:

.. image:: /_static/images/license-header-light.png
   :class: only-light
   :alt: Picture of Python file's license header in light mode
   :width: 480px
   :align: center

.. image:: /_static/images/license-header-dark.PNG
   :class: only-dark
   :alt: Picture of Python file's license header in dark mode
   :width: 480px
   :align: center


To get started, add the hook to your ``.pre-commit-config.yaml`` file:

.. code:: yaml

  - repo: https://github.com/ansys/pre-commit-hooks
    rev: v0.5.1
    hooks:
    - id: add-license-headers

The hook will run on proto files in any directory, as well as python files within directories named
``src``, ``examples``, and ``tests``.

If your repository was created before the current year, add the ``--start_year`` argument with the
year your first file was committed. The ``ansys-pre-commit-hooks`` repository started in 2023,
so the ``.pre-commit-config.yaml`` file looks like this:

.. code:: yaml

  - repo: https://github.com/ansys/pre-commit-hooks
    rev: v0.5.1
    hooks:
    - id: add-license-headers
      args:
      - --start_year=2023

By default, the
`ansys.jinja2 <https://github.com/ansys/pre-commit-hooks/blob/main/src/ansys/pre_commit_hooks/assets/.reuse/templates/ansys.jinja2>`_
template is used to generate the license headers for files.

The template contains the following variables:

- ``{{ copyright_line }}``: By default, contains the current year and the phrase "ANSYS, Inc. and/or its affiliates."
- ``{{ expression }}``: The SPDX-License-Identifier expression, which is "MIT" by default.

.. include:: customize-hook.rst

.. include:: faq.rst

.. include:: issues-limitations.rst


.. toctree::
   :hidden:
   :maxdepth: 3

   customize-hook
   faq
   issues-limitations